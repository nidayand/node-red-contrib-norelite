<script type="text/x-red" data-template-name="nrl-set in">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-bookmark"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
    <div class="form-row">
        <b>When a message is enabled</b>
    </div>
    <div class="form-row">
        <label><i class="fa fa-bookmark"></i> Enabled</label>
        <select id="node-input-enabled">
          <option value="-1">* Don't change *</option>
          <option value="0">Disable</option>
        </select>
    </div>
    <div class="form-row">
        <label><i class="fa fa-bookmark"></i> Type</label>
        <select id="node-input-istype">
          <option value="-1">* Don't change *</option>
          <option value="0">Normal (0)</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-dim"><i class="fa fa-bookmark"></i> Dim</label>
        <input type="text" id="node-input-dim" style="width:50px !important">%
    </div>
    <div class="form-row">
        <label for="node-input-color"><i class="fa fa-bookmark"></i> Color</label>
        <input type="text" id="node-input-color">
    </div>
    <div class="form-row">
        <b>When a message is disabled</b>
    </div>
    <div class="form-row">
        <label><i class="fa fa-bookmark"></i> Enabled</label>
        <select id="node-input-denabled">
          <option value="-1">* Don't change *</option>
          <option value="1">Enable</option>
        </select>
    </div>
    <div class="form-row">
        <label><i class="fa fa-bookmark"></i> Type</label>
        <select id="node-input-distype">
          <option value="-1">* Don't change *</option>
          <option value="0">Normal (0)</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-dim"><i class="fa fa-bookmark"></i> Dim</label>
        <input type="text" id="node-input-ddim" style="width:50px !important">%
    </div>
    <div class="form-row">
        <label for="node-input-color"><i class="fa fa-bookmark"></i> Color</label>
        <input type="text" id="node-input-dcolor">
    </div>
</script>
<script type="text/x-red" data-help-name="nrl-set in">
  <p>Change values in the Norelite formatted <code>msg.payload</code> object</p>
  <h3>Input</h3>
  <dl class="message-properties">
  <dt>payload&nbsp;<span class="property-type">object</span></dt>
  <dd>Norelite message format. See References</dd>
  </dl>
  <h3>Output</h3>
  <dl class="message-properties">
  <dt>payload&nbsp;<span class="property-type">object</span></dt>
  <dd>Norelite message format</dd>
  </dl>
  <h3>Settings</h3>
  <dl class="message-properties">
  <dt>Enabled</dt>
  <dd>Can be set to remain as the incoming <code>msg.payload.enabled</code> or override with true or false</dd>
  <dt>Type</dt>
  <dd><span>Used for prioritizing messages in the <code>nrl-switch</code> node. Normal setting is '0' and if you want to override other messages in the <code>nrl-switch</code> node with the message from a subflow simply increase this value</span></dd>
  <dt>Dim</dt>
  <dd><span>Used to override the dim value. Valid options are 0-100. If the value is empty, the inbound value will remain</span></dd>
  <dt>Color</dt>
  <dd><span>Used used to override the color value and it should be an hex value including '#'. E.g. #FFFFFF for white. If the value is empty, the inbound value will remain</span></dd>
  </dl>
  <h3>Details</h3>
  <p><span>For inbound enabled or disabled messages <code>msg.payload.enable</code> it is possible to override the variables used in this node</span></p>
  <h3>References</h3>
  <ul>
  <li><a href="https://www.npmjs.com/package/node-red-contrib-norelite">Norelite</a></li>
  </ul>
</script>
<script type="text/javascript">
  RED.nodes.registerType('nrl-set in', {
    category: 'norelite_util-input',
    color: "#FFCC66",
    defaults: {
      name: {
        value: "",
        required: true
      },
      enabled: {
        value: "-1",
        required: true
      },
      istype: {
        value: "-1",
        required: true
      },
      dim: {
        value: "",
        required: false
      },
      color: {
        value: "",
        required: false
      },
      denabled: {
        value: "-1",
        required: true
      },
      distype: {
        value: "-1",
        required: true
      },
      ddim: {
        value: "",
        required: false
      },
      dcolor: {
        value: "",
        required: false
      }
    },
    inputs: 1,
    outputs: 1,
    icon: "arrow-in.png",
    label: function() {
      return (this.name || "undefined");
    }
  });
</script>

